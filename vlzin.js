
/*
BASE CRIADA POR: BLACKZIN DO LUFFY
BASE APRIMORADA POR: PQP VIRUS
𝙾𝚕𝚊 𝚞𝚜𝚞𝚊𝚛𝚒𝚘 𝚍𝚎 𝚋𝚘𝚝𝚜, 𝚎𝚞 𝚜𝚘𝚞 𝚘 𝚅𝙸𝚁𝚄𝚂, 𝚙𝚊𝚛𝚊 𝚚𝚞𝚎𝚖 𝚗𝚊𝚘 𝚖𝚎 𝚌𝚘𝚗𝚑𝚎𝚌𝚎 𝚎𝚞 𝚜𝚘𝚞 𝚘 𝚌𝚛𝚒𝚊𝚍𝚘𝚛 𝚘𝚏𝚒𝚌𝚒𝚊𝚕 𝚍𝚊 𝚅𝙻-𝙱𝙾𝚃, 𝚎 𝚊𝚙𝚛𝚎𝚜𝚎𝚗𝚝𝚘 𝚎𝚜𝚜𝚊 𝚟𝚎𝚛𝚜𝚊𝚘 𝚍𝚊 𝚟𝚕𝚋𝚊𝚜𝚎 𝚌𝚘𝚖 𝚌𝚘𝚖𝚊𝚗𝚍𝚘𝚜 𝚜𝚒𝚖𝚙𝚕𝚎𝚜. 𝚂𝚎𝚒 𝚚𝚞𝚎 𝚗𝚎𝚖 𝚝𝚘𝚍𝚘𝚜 𝚝𝚎𝚖 𝚌𝚘𝚗𝚍𝚒𝚌𝚘𝚎𝚜 𝚍𝚎 𝚌𝚘𝚖𝚙𝚛𝚊𝚛 𝚘𝚞 𝚊𝚕𝚞𝚐𝚊𝚛 𝚞𝚖 𝙱𝚘𝚝, 𝚙𝚘𝚛 𝚒𝚜𝚜𝚘 𝚏𝚘𝚒 𝚌𝚛𝚒𝚊𝚍𝚊 𝚎𝚜𝚜𝚊 𝚟𝚎𝚛𝚜𝚊𝚘.

𝚂𝚒𝚗𝚝𝚊-𝚜𝚎 𝚕𝚒𝚟𝚛𝚎 𝚙𝚛𝚊 𝚎𝚍𝚒𝚝𝚊𝚛 𝚘 𝚗𝚘𝚖𝚎 𝚎 𝚊𝚜 𝚌𝚘𝚒𝚜𝚊𝚜 𝚗𝚘 𝙱𝚘𝚝 𝚎 𝚏𝚊𝚣𝚎𝚛 𝚘𝚚𝚞𝚎 𝚍𝚎𝚜𝚎𝚓𝚊𝚛 𝚌𝚘𝚖 𝚎𝚕𝚊, 𝚙𝚘𝚛𝚎𝚖 𝚍𝚎𝚒𝚡𝚎𝚖 𝚙𝚎𝚕𝚘 𝚖𝚎𝚗𝚘𝚜 𝚖𝚎𝚞𝚜 𝙲𝚁𝙴𝙳𝙸𝚃𝙾𝚂 𝙿𝙾𝚁 𝙶𝙴𝙽𝚃𝙸𝙻𝙴𝚉𝙰 🗿🍷.

𝚂𝚎 𝚝𝚒𝚟𝚎𝚛 𝚊𝚕𝚐𝚞𝚖 𝚙𝚛𝚘𝚋𝚕𝚎𝚖𝚊 𝚏𝚊𝚕𝚎 𝚌𝚘𝚖𝚒𝚐𝚘!

𝙼𝙴𝚄 𝙽𝚄𝙼𝙴𝚁𝙾;

/////
𝚅𝙸𝚁𝚄𝚂
𝚠𝚊.𝚖𝚎/𝟻𝟻𝟾𝟺𝟿𝟿𝟾𝟹𝟿𝟸𝟷𝟸
////


////////////
𝙼𝙴𝚄 𝙸𝙽𝚂𝚃𝙰: @𝚙𝚚𝚙𝚟𝚒𝚛𝚞𝚜
//////


𝙱𝚈𝙴 𝙱𝚈𝙴
( 𝚀𝚄𝙰𝙻𝚀𝚄𝙴𝚁 𝙴𝚁𝚁𝙾 𝙹𝙰 𝚂𝙰𝙱𝙴 ): 𝙱𝚁𝙾𝚃𝙰 𝙽𝙾 𝙿𝚅:
𝚠𝚊.𝚖𝚎/𝟻𝟻𝟾𝟺𝟿𝟿𝟾𝟹𝟿𝟸𝟷𝟸

/// 𝙱𝚈: 𝚅𝙸𝚁𝚄𝚂 \\\\
*/


/// 𝙱𝚈: 𝚅𝙸𝚁𝚄𝚂 \\\\

const fs = require('fs')
const chalk = require("chalk")

const { useMultiFileAuthState,
fetchLatestBaileysVersion
} = require ('@WhiskeySockets/Baileys')

const settings = 
JSON.parse(fs.readFileSync("./arquivos/settings.json"))

const p = settings.p
const dono = settings.dono
const nomeBot = settings.nomeBot

const {
StartBot, vlzin,
vermelho, amarelo
} = require("./conexao/conexao.js")

async function StartZap() {
let sock = await StartBot();


sock.ev.process(
async(events) => {
if(events['messages.upsert']) {
const newbase = events['messages.upsert']
for(const info of newbase.messages) {
if(info.message && typeof info.message === 'object') {
const type = Object.keys(info.message)[0];

const body = 
(type === 'conversation' && info.message.conversation.startsWith(p)) ? info.message.conversation:
(type === 'extendedTextMessage') && info.message[type].text.startsWith(p) ? info.message[type].text: ''
const budy =
(type === 'conversation') ? info.message.conversation: 
(type === 'extendedTextMessage') ? info.message.extendedTextMessage.text: ''

const from = info.key.remoteJid 
const isGroup = from.endsWith("@g.us")
const sender = isGroup ? info.key.participant: from
const comando = body.slice(1).trim().split(/ +/).shift().toLowerCase()
const pushname = info.pushName ? info.pushName : nomeBot
const args = body.trim().split(/ +/).splice(1)
const q = args.join(' ')

enviar = (blk) => { 
sock.sendMessage(from,{text: blk},{quoted:info})}
///////  MENU \\\\\

const { menu } = require("./menu/menu.js")
try {
switch(comando) {
  
//COMEÇO DAS CASES/COMANDOS!

case 'comandos'://by virus 
case 'menu'://by virus
sock.sendMessage(from,{image:{url:"https://telegra.ph/file/b4eef7ca48b6b77c65914.jpg"},caption: menu(pushname, sender, p)}, {quoted: info})
break
//COMANDOS DE BRINCADEIRAS

case 'roleta':

case 'roletarussa':

let roleta = [
  "vazio",
  "vazio",
  "vazio",
  "vazio",
  "vazio",
  "pow",
  "pow",
  ]
let tambor = roleta[Math.floor(Math.random() * roleta.length)]

if(tambor == "vazio") {
  enviar("O slot está vazio por sorte você não levou um tiro")

} else
if(tambor == "pow") {
  enviar("POW🔥\nO slot estava com a bala e infelizmente você levou um tiro na cabeça")
}
break

//FIM DAS CASES DE BRINCADEIRAS



//COMANDOS DONO

case 'sair':// BY: VIRUS 

if (!isGroup) return enviar('somente para grupo')

if (!dono) return enviar('Somente para dono')
enviar('Bye Bye meus amigos e amigas😔👍🏾')
try {
await sock.groupLeave(from)
} catch(e) {
console.log(e)
enviar('erro...')
}
break

//FIM DAS CASES/COMANDOS

default:

if (budy === `${p}`) {

sock.sendMessage(from, {react: { text: "❗", key: info.key}})

sock.sendMessage(from, {text: `Se desejar visualizar o menu, por favor, digite ${p}menu` }, {quoted: info })

} else if (budy.startsWith(`${p}`)) {
sock.sendMessage(from, {text: `Esse Cmd Não Existe, Olhe O Menu Novamente, Humano.` }, {quoted: info })}
 
}} catch(e) { console.log(amarelo('\n',`[ 💥 ERROR DETECTADO 💥 ]`,'\n',vermelho(e))); enviar(e)}}}}})}; StartZap()